(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{516:function(t,a,e){"use strict";e.r(a);var s=e(31),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("小提示")]),t._v(" "),e("p",[t._v("如果你已经安装好了 Mirai 可以跳过这一章\n直接查看 "),e("RouterLink",{attrs:{to:"/pages/e626b1/"}},[t._v("Rainbot")]),t._v(" 的部署")],1)]),t._v(" "),e("p",[t._v("无论你是否有相关经验 为了避免一下潜在的问题 我都建议使用 "),e("a",{attrs:{href:"https://github.com/iTXTech/mcl-installer",target:"_blank",rel:"noopener noreferrer"}},[t._v("iTXTech 制作的 MCL Installer"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),e("h3",{attrs:{id:"对于-windows"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对于-windows"}},[t._v("#")]),t._v(" 对于 Windows")]),t._v(" "),e("p",[t._v("windows 的安装与启动十分简单")]),t._v(" "),e("p",[t._v("下载 "),e("Badge",{attrs:{text:"mcl-installer - 版本 - windows-amd64.exe",type:"warning"}}),t._v(" 到想要安装 "),e("code",[t._v("iTXTech MCL")]),t._v(" 的目录中执行。")],1),t._v(" "),e("h4",{attrs:{id:"对应-linux-与-macos"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对应-linux-与-macos"}},[t._v("#")]),t._v(" 对应 Linux 与 MacOs")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("cd 你想要安装 iTXTech MCL 的目录\ncurl -LJO https://github.com/iTXTech/mcl-installer/releases/download/v1.0.6/mcl-installer-1.0.7-linux-amd64-musl\n# 如果是 macOS，就将链接中的 linux 修改为 macos\nchmod +x mcl-installer-1.0.7-linux-amd64-musl\n./mcl-installer-1.0.7-linux-amd64\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),e("p",[t._v("苹果电脑有两种处理器")]),t._v(" "),e("p",[t._v("对于 "),e("Badge",{attrs:{text:"Intel",type:"error",vertical:"middle"}}),t._v(" 的处理器应使用 amd64 的版本")],1),t._v(" "),e("p",[t._v("对于 "),e("Badge",{attrs:{text:"Apple Silicon",type:"warning",vertical:"middle"}}),t._v(" 的处理器应使用 aarch64 的版本")],1)]),t._v(" "),e("p",[t._v("运行成功之后新手只需要一路回车按到底就可以了")]),t._v(" "),e("p",[t._v("在窗口关闭后 进行初次启动")]),t._v(" "),e("h2",{attrs:{id:"初次启动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#初次启动"}},[t._v("#")]),t._v(" 初次启动")]),t._v(" "),e("h3",{attrs:{id:"对于-windows-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对于-windows-2"}},[t._v("#")]),t._v(" 对于 Windows")]),t._v(" "),e("p",[t._v("可以直接运行 "),e("code",[t._v("mcl.cmd")])]),t._v(" "),e("h3",{attrs:{id:"对于-linux-与-macos"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对于-linux-与-macos"}},[t._v("#")]),t._v(" 对于 Linux 与 MacOs")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("./mcl\n")])])]),e("h2",{attrs:{id:"安装-mirai-api-http"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-mirai-api-http"}},[t._v("#")]),t._v(" 安装 Mirai-Api-Http")]),t._v(" "),e("p",[t._v("如果你已经完成了初次启动")]),t._v(" "),e("p",[t._v("关闭 mcl 如果它正在运行")]),t._v(" "),e("p",[t._v("从 "),e("a",{attrs:{href:"https://github.com/project-mirai/mirai-api-http/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("Releases"),e("OutboundLink")],1),t._v(" 下载一个 "),e("code",[t._v("mirai-api-http")])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("小提示")]),t._v(" "),e("p",[t._v("如果你不知道要安装什么版本")]),t._v(" "),e("p",[t._v("你可以尝试下载 Mirai-Api-Http"),e("Badge",{attrs:{text:"v2.5.0"}})],1),t._v(" "),e("p",[t._v("在笔者的电脑于服务器上运行的没有问题")])]),t._v(" "),e("p",[t._v("将你下好的 "),e("code",[t._v(".jar")]),t._v(" 文件放入 "),e("code",[t._v("plugins")]),t._v(" 文件夹")]),t._v(" "),e("p",[t._v("再次启动 MCL Mirai-Api-Http 就安装完成了")]),t._v(" "),e("h2",{attrs:{id:"配置-mirai-api-http"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置-mirai-api-http"}},[t._v("#")]),t._v(" 配置 Mirai-Api-Http")]),t._v(" "),e("p",[t._v("Mirai-Api-Http 的配置在 "),e("Badge",{attrs:{text:"config/net.mamoe.mirai-api-http/setting.yml",type:"warning",vertical:"middle"}}),t._v("  内")],1),t._v(" "),e("p",[t._v("配置文件的模版如下")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('## 配置文件中的值，全为默认值\n\n## 启用的 adapter, 内置有 http, ws, reverse-ws, webhook\nadapters:\n  - http\n  - ws\n\n## 是否开启认证流程, 若为 true 则建立连接时需要验证 verifyKey\n## 建议公网连接时开启\nenableVerify: true\nverifyKey: 17900\n\n## 开启一些调式信息\ndebug: false\n\n## 是否开启单 session 模式, 若为 true，则自动创建 session 绑定 console 中登录的 bot\n## 开启后，接口中任何 sessionKey 不需要传递参数\n## 若 console 中有多个 bot 登录，则行为未定义\n## 确保 console 中只有一个 bot 登陆时启用\nsingleMode: false\n\n## 历史消息的缓存大小\n## 同时，也是 http adapter 的消息队列容量\ncacheSize: 4096\n\n## adapter 的单独配置，键名与 adapters 项配置相同\nadapterSettings:\n  ## 详情看 http adapter 使用说明 配置\n  http:\n    host: localhost\n    port: 1190\n    cors: ["*"]\n\n  ## 详情看 websocket adapter 使用说明 配置\n  ws:\n    host: localhost\n    port: 1190\n    reservedSyncId: -1\n')])])]),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"custom-block-title"},[t._v("安全警告")]),t._v(" "),e("p",[t._v("强烈建议更换 "),e("Badge",{attrs:{text:"verifyKey",type:"warning",vertical:"middle"}}),t._v(" 否则可能出现安全问题")],1),t._v(" "),e("p",[t._v("强烈建议更换 "),e("Badge",{attrs:{text:"port",type:"warning",vertical:"middle"}}),t._v(" 否则可能出现安全问题")],1),t._v(" "),e("p",[t._v("毕竟 17900 和 1190 在 wows 圈里可以说人尽皆知了")])]),t._v(" "),e("p",[t._v("重启 MCL 便可完成对 mirai 和 miria-http 的配置")]),t._v(" "),e("div",{staticClass:"custom-block note"},[e("p",{staticClass:"custom-block-title"},[t._v("笔记")]),t._v(" "),e("p",[t._v("参考文档")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/iTXTech/mcl-installer",target:"_blank",rel:"noopener noreferrer"}},[t._v("iTXTech MCL Installer"),e("OutboundLink")],1),t._v(": 一键下载 Java 和 iTXTech Mirai Console Loader")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/project-mirai/mirai-api-http",target:"_blank",rel:"noopener noreferrer"}},[t._v("mirai-api-http"),e("OutboundLink")],1),t._v(": Mirai-API-http 插件 提供 HTTP API 供所有语言使用 mirai")])])])}),[],!1,null,null,null);a.default=r.exports}}]);